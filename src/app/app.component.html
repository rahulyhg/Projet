<ngx-loading-bar [includeSpinner]="true" color="#00BE00" height="4px"></ngx-loading-bar>
<div id="page_content" [class.example-is-mobile]="mobileQuery.matches" (click)="nav_m_blur_click()">
  <header id="page_header">
    <div class="bouton_nav_mobile nav_m">
      <mat-toolbar>
        <button mat-icon-button (click)="snav.toggle(); nav_m_blur()"><mat-icon>menu</mat-icon></button>
      </mat-toolbar>
    </div>
    <div class="page_header_block_gauche">
      <li class="lien"><a routerLink="/Accueil">Accueil</a></li>
      <li style="border-bottom: none;">{{ setting.version }}</li>
    </div>
    <div class="page_header_block_droite">
      <div *ngIf="_currentUser.statut">
        <a *ngIf="_currentUser.group.rightGroupPage.User_Access" class="profile_nav" routerLink="/User/MonCompte"><img src="{{ _currentUser.profile }}"></a>
        <a *ngIf="!_currentUser.group.rightGroupPage.User_Access" class="profile_nav" ><img src="{{ _currentUser.profile }}"></a>
        <li *ngIf="_currentUser.group.rightGroupPage.User_Access" class="lien"><a routerLink="/User/MonCompte">Mon Compte ({{ _currentUser.login }})</a></li>
        <li *ngIf="!_currentUser.group.rightGroupPage.User_Access" style="color: #555;">Mon Compte ({{ _currentUser.login }})</li>
        <li class="lien" (click)="logOut()">Se déconnecter</li>
      </div>
      <div *ngIf="!_currentUser.statut">
        <li class="lien"><a routerLink="/Login">Se Connecter</a></li>
      </div>
    </div>
  </header>

  <mat-sidenav-container class="example-sidenav-container nav_m" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">
    <mat-sidenav #snav [(opened)]="opened" [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" fixedTopGap="0">
      <mat-nav-list>
        <div class="page_nav_content">
          <div class="page_nav_logo">
            <a routerLink="/Accueil"><img class="lien" src="assets/uploads/images/logo.jpg"></a>
          </div>
          <div class="page_nav_liens">
            <li class="lien" >Lien 1</li>
            <li class="lien" >Lien 2</li>
            <li class="lien" >Lien 3</li>
            <li class="lien" >Lien 4</li>
          </div>
        </div>

        <section id="dev" *ngIf="_currentUser.group.rightGroupPage.EditBar_Access">
            <div *ngIf="_currentUser.group.rightGroupPage.SelectedPageManagement_Access" class="edit"><a routerLink="/PageManagement/{{ _currentPage.id }}"><i class="far fa-edit"></i></a></div>
            <div *ngIf="_currentUser.group.rightGroupPage.EditBar_Dev" class="dev"><a routerLink="/Developer"><i class="fas fa-code"></i></a></div>
            <div *ngIf="_currentUser.group.rightGroupPage.Settings_Access" class="settings" ><a routerLink="/Settings"><i class="fas fa-cogs"></i></a></div>
        </section>
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content>
    </mat-sidenav-content>
  </mat-sidenav-container>

<div class="nav_n">
  <div id="page_nav">
    <div class="page_nav_content">
        <div class="page_nav_logo">
          <a routerLink="/Accueil"><img class="lien" src="assets/uploads/images/logo.jpg"></a>
        </div>
        <div class="page_nav_liens">
          <li class="lien" >Lien 1</li>
          <li class="lien" >Lien 2</li>
          <li class="lien" >Lien 3</li>
          <li class="lien" >Lien 4</li>
        </div>
      </div>
  </div>
  
  <section id="dev" *ngIf="_currentUser.group.rightGroupPage.EditBar_Access">
    <div *ngIf="_currentUser.group.rightGroupPage.SelectedPageManagement_Access" class="edit"><a routerLink="/PageManagement/{{ _currentPage.id }}"><i class="far fa-edit"></i></a></div>
    <div *ngIf="_currentUser.group.rightGroupPage.EditBar_Dev" class="dev"><a routerLink="/Developer"><i class="fas fa-code"></i></a></div>
    <div *ngIf="_currentUser.group.rightGroupPage.Settings_Access" class="settings" ><a routerLink="/Settings"><i class="fas fa-cogs"></i></a></div>
  </section>
</div>

<section id="page_section">
  <router-outlet></router-outlet>
</section>

<footer id="footer">
  <div class="left_content">
    Foogter
  </div>
  <div class="right_content">
    {{ setting.version }}
    <a href="https://github.com/dov118/Projet">Page Git du projet</a>
  </div>
</footer>

</div>